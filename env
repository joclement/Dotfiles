#!/bin/bash
###This file contains the environment variables used by bash and zsh

# functions to add folder to PATH environment variable
# Both functions takes 1 argument, the dir, which should be added
# this function adds a to the begin, if the dir is not at the begin or in the
# middle of PATH
__pathaddbegin() {
    if [ -d "$1" ] && [[ ":$PATH" != *":$1:"* ]];
    then
        PATH="$1${PATH:+":$PATH"}"
    fi
}
# add dir to end, if it is nowhere in PATH
__pathaddend() {
    if [ -d "$1" ] && [[ ":$PATH:" != *":$1:"* ]];
    then
        PATH="$PATH:$1"
    fi
}


if [ -d "$HOME/bin" ] ; then
    __pathaddend $HOME/bin
fi

if [ -d "$HOME/.local/bin" ] ; then
    __pathaddend $HOME/.local/bin
fi

POETRY_HOME="$HOME/.poetry/bin"
if [ -d "$POETRY_HOME" ] ; then
    __pathaddend $POETRY_HOME
fi

export PYENV_ROOT="$HOME/.pyenv"
if [ -d "$PYENV_ROOT/bin" ] ; then
    __pathaddbegin $PYENV_ROOT/bin
    eval "$(pyenv init --path)"
fi

unset -f __pathaddbegin
unset -f __pathaddend

# ---------------------------------------------------------------------

#set environment variable for standard editor to vim, also for visual
export VISUAL=vim
export EDITOR="$VISUAL"
